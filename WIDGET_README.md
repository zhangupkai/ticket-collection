# 火车票桌面小组件使用说明

## 📱 小组件功能

火车票管理器现在支持桌面小组件功能，让您可以在手机桌面直接查看车票信息，无需打开应用。

## 🎯 小组件特点

### 1. **实时显示最新车票**
- 自动显示您添加的最新车票信息
- 包含完整的车票详情：出发地、目的地、车次、时间等

### 2. **美观的界面设计**
- 蓝色渐变背景，视觉效果佳
- 信息布局清晰，易于阅读
- 支持自适应大小调整

### 3. **智能更新**
- 添加新车票时自动更新小组件
- 删除车票时自动更新小组件
- 每30分钟自动刷新一次

## 📋 显示信息

小组件会显示以下车票信息：

- **路线**: 出发地 → 目的地
- **车次**: 列车编号
- **日期**: 出发日期
- **时间**: 发车时间
- **座位**: 座位号
- **票价**: 车票价格
- **乘客**: 乘客姓名
- **座席类型**: 座位等级
- **检票口**: 检票口信息
- **车票总数**: 票夹中的总车票数量

## 🔧 添加小组件到桌面

### 方法一：长按桌面添加
1. 长按手机桌面空白区域
2. 选择"小组件"或"Widget"
3. 找到"火车票管理器"
4. 点击并拖拽到桌面
5. 点击"添加到桌面"完成配置

### 方法二：应用内添加
1. 打开火车票管理器应用
2. 在设置页面找到"添加桌面小组件"
3. 按照提示完成添加

## ⚙️ 小组件配置

### 大小调整
- 小组件支持水平和垂直方向调整大小
- 最小尺寸：250dp × 120dp
- 可根据桌面空间灵活调整

### 自动更新
- 默认每30分钟自动更新一次
- 添加或删除车票时立即更新
- 无需手动刷新

## 🎨 界面预览

小组件采用以下设计风格：
- **主背景**: 蓝色渐变 (#1976D2 → #1565C0)
- **信息区域**: 白色背景，圆角设计
- **文字颜色**: 白色标题，深色信息文字
- **边框**: 圆角设计，现代化外观

## 🔄 更新机制

### 自动更新触发条件
1. **添加新车票**: 立即更新小组件
2. **删除车票**: 立即更新小组件
3. **编辑车票**: 立即更新小组件
4. **导入数据**: 立即更新小组件
5. **定时更新**: 每30分钟自动更新

### 手动更新
- 点击小组件可打开应用
- 应用内操作会自动更新小组件

## 🚫 注意事项

1. **权限要求**: 小组件需要读取应用数据权限
2. **系统限制**: 某些系统可能会限制小组件更新频率
3. **电池优化**: 建议将应用加入电池优化白名单
4. **桌面限制**: 不同手机厂商的桌面可能有不同的限制

## 🛠️ 故障排除

### 小组件不显示
1. 检查是否已添加车票
2. 重启应用
3. 重新添加小组件

### 小组件不更新
1. 检查应用是否被系统杀死
2. 重启手机
3. 重新添加小组件

### 显示异常
1. 调整小组件大小
2. 重新添加小组件
3. 清除应用数据后重新添加车票

## 📞 技术支持

如果遇到问题，请：
1. 检查应用版本是否为最新
2. 查看应用内的帮助文档
3. 重启应用和手机
4. 重新安装应用

---

**版本**: 1.0.0  
**更新时间**: 2024年1月  
**支持系统**: Android 7.0 (API 24) 及以上 